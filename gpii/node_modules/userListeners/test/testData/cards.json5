// Used by pcscTests.js to mock cards.
// ../cardTests/record.js is used to create a transaction log from a real card.
[
    // Message sizes
    {
        "test": "Short message (NTAG)",
        "atr": "3b8f8001804f0ca0000003060300030000000068",
        "cardType": "NTAG",
        "commands": {
            "ffb0000404": "0103a00c9000",
            "ffb0000504": "340308d19000",
            "ffb0000604": "010454029000",
            "ffb0000704": "656e41fe9000"
        },
        "expect": {
            "text": "A"
        }
    },
    {
        "test": "Short message (Mifare)",
        "atr": "3b8f8001804f0ca000000306030001000000006a",
        "cardType": "Mifare",
        "commands": {
            "ff860000050100046000": "9000",
            "ffb0000410": "0308d101045402656e41fe00000000009000"
        },
        "expect": {
            "text": "A"
        }
    },
    {
        "test": "Data exactly 1 block length",
        "atr": "3b8f8001804f0ca000000306030001000000006a",
        "cardType": "Mifare",
        "commands": {
            "ff860000050100046000": "9000",
            "ffb0000410": "030dd101095402656e616263646566fe9000"
        },
        "expect": {
            "text": "abcdef"
        }
    },
    {
        "test": "Data exactly 2 blocks",
        "atr": "3b8f8001804f0ca000000306030001000000006a",
        "cardType": "Mifare",
        "commands": {
            "ff860000050100046000": "9000",
            "ffb0000410": "031dd101195402656e616263646566679000",
            "ffb0000510": "68696a6b6c6d6e6f70717273747576fe9000"
        },
        "expect": {
            "text": "abcdefghijklmnopqrstuv"
        }
    },
    {
        "test": "Longer message (Mifare)",
        "atr": "3b8f8001804f0ca000000306030001000000006a",
        "cardType": "Mifare",
        "commands": {
            "ff860000050100046101": "9000",
            "ffb0000410": "031ad101165402656e746869732069739000",
            "ffb0000510": "20746865206d657373616765fe0000009000"
        },
        "expect": {
            "text": "this is the message"
        }
    },
    {
        "test": "Longer message (Mifare 4k)",
        "atr": "3b8f8001804f0ca0000003060300020000000069",
        "cardType": "Mifare",
        "commands": {
            "ff860000050100046000": "9000",
            "ffb0000410": "031ad101165402656e746869732069739000",
            "ffb0000510": "20746865206d657373616765fe0000009000"
        },
        "expect": {
            "text": "this is the message"
        }
    },
    {
        "test": "Longer message (NTAG)",
        "atr": "3b8f8001804f0ca0000003060300030000000068",
        "cardType": "NTAG",
        "commands": {
            "ffb0000404": "0103a00c9000",
            "ffb0000504": "34031ad19000",
            "ffb0000604": "011654029000",
            "ffb0000704": "656e74689000",
            "ffb0000804": "697320699000",
            "ffb0000904": "732074689000",
            "ffb0000a04": "65206d659000",
            "ffb0000b04": "737361679000",
            "ffb0000c04": "65fe00009000"
        },
        "expect": {
            "text": "this is the message"
        }
    },
    {
        "test": "Message spanning 2 sectors",
        "atr": "3b8f8001804f0ca000000306030001000000006a",
        "cardType": "Mifare",
        "commands": {
            "ff860000050100046000": "9000",
            "ffb0000410": "0333d1012f5402656e546865207175699000",
            "ffb0000510": "636b2062726f776e20666f78206a756d9000",
            "ffb0000610": "7073206f76657220746865206c617a799000",
            "ff860000050100086000": "9000",
            "ffb0000810": "20646f672efe000000000000000000009000"
        },
        "expect": {
            "text": "The quick brown fox jumps over the lazy dog."
        }
    },
    {
        "test": "NDEF tag not at the start of card (Mifare)",
        "atr": "3b8f8001804f0ca000000306030001000000006a",
        "cardType": "Mifare",
        "commands": {
            "ff860000050100046000": "9000",
            "ffb0000410": "0000000000000333d1012f5402656e549000",
            "ffb0000510": "686520717569636b2062726f776e20669000",
            "ffb0000610": "6f78206a756d7073206f7665722074689000",
            "ff860000050100086000": "9000",
            "ffb0000810": "65206c617a7920646f672efe000000009000"
        },
        "expect": {
            "text": "The quick brown fox jumps over the lazy dog."
        }
    },
    {
        "test": "NDEF tag not at the start of card (NTAG)",
        "atr": "3b8f8001804f0ca0000003060300030000000068",
        "cardType": "NTAG",
        "commands": {
            "ffb0000404": "000000009000",
            "ffb0000504": "0103a00c9000",
            "ffb0000604": "34031ad19000",
            "ffb0000704": "011654029000",
            "ffb0000804": "656e74689000",
            "ffb0000904": "697320699000",
            "ffb0000a04": "732074689000",
            "ffb0000b04": "65206d659000",
            "ffb0000c04": "737361679000",
            "ffb0000d04": "65fe00009000"
        },
        "expect": {
            "text": "this is the message"
        }
    },
    {
        "test": "Blank card, empty tag (NTAG)",
        "atr": "3b8f8001804f0ca0000003060300030000000068",
        "cardType": "NTAG",
        "commands": {
            "ffb0000404": "0300fe009000",
            "ffb0000504": "000000009000",
            "ffb0000604": "000000009000",
            "ffb0000704": "000000009000"
        },
        "expect": {
            "text": null
        }
    },
    {
        "test": "Blank card, empty tag (Mifare)",
        "atr": "3b8f8001804f0ca000000306030001000000006a",
        "cardType": "Mifare",
        "commands": {
            "ff860000050100046000": "9000",
            "ffb0000410": "0300fe000000000000000000000000009000"
        },
        "expect": {
            "text": null
        }
    },
    {
        "test": "Blank card (NTAG)",
        "atr": "3b8f8001804f0ca0000003060300030000000068",
        "cardType": "NTAG",
        "commands": {
            "ffb0000404": "000000009000",
            "ffb0000504": "000000009000",
            "ffb0000604": "000000009000",
            "ffb0000704": "000000009000"
        },
        "expect": {
            "text": null
        }
    },
    {
        "test": "Blank card (Mifare)",
        "atr": "3b8f8001804f0ca000000306030001000000006a",
        "cardType": "Mifare",
        "commands": {
            "ff860000050100046000": "9000",
            "ffb0000410": "000000000000000000000000000000009000"
        },
        "expect": {
            "text": null
        }
    },
    // Keys
    {
        "test": "Key type A, number 0",
        "atr": "3b8f8001804f0ca000000306030001000000006a",
        "cardType": "Mifare",
        "commands": {
            "ff860000050100046000": "9000",
            "ffb0000410": "0308d101045402656e41fe00000000009000"
        },
        "expect": {
            "text": "A"
        }
    },
    {
        "test": "Key type A, number 1",
        "atr": "3b8f8001804f0ca000000306030001000000006a",
        "cardType": "Mifare",
        "commands": {
            "ff860000050100046001": "9000",
            "ffb0000410": "0308d101045402656e41fe00000000009000"
        },
        "expect": {
            "text": "A"
        }
    },
    {
        "test": "Key type B, number 0",
        "atr": "3b8f8001804f0ca000000306030001000000006a",
        "cardType": "Mifare",
        "commands": {
            "ff860000050100046100": "9000",
            "ffb0000410": "0308d101045402656e41fe00000000009000"
        },
        "expect": {
            "text": "A"
        }
    },
    {
        "test": "Key type B, number 1",
        "atr": "3b8f8001804f0ca000000306030001000000006a",
        "cardType": "Mifare",
        "commands": {
            "ff860000050100046101": "9000",
            "ffb0000410": "0308d101045402656e41fe00000000009000"
        },
        "expect": {
            "text": "A"
        }
    },

    // non-working cards
    {
        "test": "No commands recognised (Mifare)",
        "atr": "3b8f8001804f0ca000000306030001000000006a",
        "cardType": "Mifare",
        "commands": {
        },
        "expect": {
            "text": null
        }
    },
    {
        "test": "No commands recognised (NTAG)",
        "atr": "3b8f8001804f0ca0000003060300030000000068",
        "cardType": "NTAG",
        "commands": {
        },
        "expect": {
            "text": null
        }
    },
    {
        "test": "No response (load key)",
        "atr": "3b8f8001804f0ca000000306030001000000006a",
        "cardType": "Mifare",
        "commands": {
            "ff860000050100046101": ""
        },
        "expect": {
            "text": null
        }
    },
    {
        "test": "No response (read block)",
        "atr": "3b8f8001804f0ca000000306030001000000006a",
        "cardType": "Mifare",
        "commands": {
            "ff860000050100046101": "9000",
            "ffb0000410": ""
        },
        "expect": {
            "text": null
        }
    },
    {
        "test": "Error response (read block)",
        "atr": "3b8f8001804f0ca000000306030001000000006a",
        "cardType": "Mifare",
        "commands": {
            "ff860000050100046101": "9000",
            "ffb0000410": "6300"
        },
        "expect": {
            "text": null
        }
    },
    {
        "test": "Error response (non-first read block)",
        "atr": "3b8f8001804f0ca000000306030001000000006a",
        "cardType": "Mifare",
        "commands": {
            "ffb0000410": "0333d1012f5402656e546865207175699000",
            "ffb0000510": "636b2062726f776e20666f78206a756d9000",
            "ffb0000610": "6300"
        },
        "expect": {
            "text": null
        }
    },
    // NDEF Parsing
    {
        "test": "UTF-8 (NTAG)",
        "atr": "3b8f8001804f0ca0000003060300030000000068",
        "cardType": "NTAG",
        "commands": {
            "ffb0000404": "0103a00c9000",
            "ffb0000504": "340321d19000",
            "ffb0000604": "011d54029000",
            "ffb0000704": "656e34319000",
            "ffb0000804": "3a4120429000",
            "ffb0000904": "363ac2b69000",
            "ffb0000a04": "203031449000",
            "ffb0000b04": "443ac79d9000",
            "ffb0000c04": "203033449000",
            "ffb0000d04": "363acf969000"
        },
        "expect": {
            "text": "41:A B6:\u00B6 01DD:\u01DD 03D6:\u03D6"
        }
    },
    {
        "test": "UTF-8 (Mifare)",
        "atr": "3b8f8001804f0ca000000306030001000000006a",
        "cardType": "Mifare",
        "commands": {
            "ff860000050100046000": "9000",
            "ffb0000410": "0321d1011d5402656e34313a412042369000",
            "ffb0000510": "3ac2b620303144443ac79d20303344369000",
            "ffb0000610": "3acf96fe0000000000000000000000009000"
        },
        "expect": {
            "text": "41:A B6:\u00B6 01DD:\u01DD 03D6:\u03D6"
        }
    },
    {
        "test": "Not English (lang=it)",
        "atr": "3b8f8001804f0ca0000003060300030000000068",
        "cardType": "NTAG",
        "commands": {
            "ffb0000404": "0103a00c9000",
            "ffb0000504": "34030bd19000",
            "ffb0000604": "010754029000",
            "ffb0000704": "697463699000",
            "ffb0000804": "616ffe009000"
        },
        "expect": {
            "text": "ciao"
        }
    },
    {
        "test": "Multiple text records",
        "atr": "3b8f8001804f0ca000000306030001000000006a",
        "cardType": "Mifare",
        "commands": {
            "ff860000050100046000": "9000",
            "ffb0000410": "032d91010b5402656e7265636f7264209000",
            "ffb0000510": "3111010b5402656e7265636f726420329000",
            "ffb0000610": "51010b5402656e7265636f72642033fe9000"
        },
        "expect": {
            "text": "record 1"
        }
    },
    {
        "test": "Not a text record",
        "atr": "3b8f8001804f0ca000000306030001000000006a",
        "cardType": "Mifare",
        "commands": {
            "ff860000050100046000": "9000",
            "ffb0000410": "0326d10221537091010a5503677069699000",
            "ffb0000510": "2e6e65742f51010f5402656e475049499000",
            "ffb0000610": "2077656273697465fe000000000000009000"
        },
        "expect": {
            "text": null
        }
    },
    {
        "test": "Not a text record, and a text record",
        "atr": "3b8f8001804f0ca000000306030001000000006a",
        "cardType": "Mifare",
        "commands": {
            "ff860000050100046000": "9000",
            "ffb0000410": "0338910221537091010a5503677069699000",
            "ffb0000510": "2e6e65742f51010f5402656e475049499000",
            "ffb0000610": "207765627369746551010e5402656e749000",
            "ff860000050100086000": "9000",
            "ffb0000810": "6865206d657373616765fe00000000009000"
        },
        "expect": {
            "text": "the message"
        }
    },
    {
        "test": "Failure when presented",
        "atr": "3b8f8001804f0ca000000306030001000000006a",
        "cardType": "Mifare",
        "commands": {
            "fail": "presented"
        },
        "expect": {
            "fail": true
        }
    },
    {
        "test": "Failure during commands",
        "atr": "3b8f8001804f0ca000000306030001000000006a",
        "cardType": "Mifare",
        "commands": {
            "fail": "commands"
        },
        "expect": {
            "fail": true
        }
    },
    {
        "test": "Ensure recovery after failure",
        "atr": "3b8f8001804f0ca000000306030001000000006a",
        "cardType": "Mifare",
        "commands": {
            "ff860000050100046000": "9000",
            "ffb0000410": "0308d101045402656e41fe00000000009000"
        },
        "expect": {
            "text": "A"
        }
    }
]
