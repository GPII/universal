# User listeners

The user listeners start when GPII does.

## RFID Listener

`gpii.userlisteners.pcsc`

* [pcsc.js](src/pcsc.js)
* Uses [@pokusew/pcsclite](https://www.npmjs.com/package/@pokusew/pcsclite) to access the card reader.
  This has build dependencies on Linux, which prevents it being tested easily in CI, so the actual reference to this package is in gpii-windows.
* Cards supported (tested):
  * Mifare Classic 1k and 4k
  * NTAG203/213/216
  * Mifare Ultralight.

### Testing

* Dry testing (with an emulated card) in [pcscTests.js](test/pcscTests.js).
* There are tests that use a real card in [test/cardTests/](test/cardTests). These are not tested in CI (they require a
reader), and only useful for developing/debugging (see [test/cardTests/README.md](test/cardTests/README.md))


## USB Listener

`gpii.userlisteners.usb`

* [usb.js](src/usb.js)
* Only the OS generic code is here. That is, after the device has been detected, and the mount point is known.


## Proximity Listener

* The listener for the proximity device (built into the VAIO) is only available to Windows. Code for that is in the
windows repository.
