{{#section 'head'}}
    <link rel="stylesheet" type="text/css" href="lib/infusion/src/lib/jquery/ui/css/default-theme/jquery.ui.theme.css" />
    <link rel="stylesheet" type="text/css" href="src/components/selectionTree/css/SelectionTree.css" />
    <link rel="stylesheet" type="text/css" href="src/components/selectionTree/css/SelectionTreeFoundation.css" />
    <link rel="stylesheet" type="text/css" href="src/components/privacySettings/css/PrivacySettings.css" />
    <script src="lib/infusion/infusion-tooltip.js"></script>
    <script src="lib/jquery.ui.menu.js"></script>
    <script src="infusion/src/framework/core/js/jquery.keyboard-a11y.js"></script>
    <script src="src/core/js/GPIIOauth2.js"></script>
    <script src="src/components/selectionTree/js/SelectionTree.js"></script>
    <script src="src/components/privacySettings/js/PrivacySettingsDialog.js"></script>
    <script src="src/components/privacySettings/js/EditPrivacySettingsDialog.js"></script>
    <script src="src/components/privacySettings/js/ServicesMenu.js"></script>
    <script src="src/components/privacySettings/js/AddAuthorizationDialog.js"></script>
    <script src="src/components/OKCancelDialog/js/OKCancelDialog.js"></script>
    <script src="src/components/privacySettings/js/PrivacySettings.js"></script>

    <title>Privacy Settings</title>
{{/section}}

{{#section 'main'}}
    <section class="gpiic-oauth2-privacySettings gpii-oauth2-privacySettings gpii-oauth2-panel small-10 large-8 small-centered columns">
        <div class="gpii-ouath2-inset">
            <div class="gpii-oauth2-activeUser clearfix">
                <form class="right" action="/logout" method="post">
                    <span class="gpii-icon gpii-icon-profile" role="presentation"></span>
                    <span class="gpiic-oauth2-privacySettings-user gpii-oauth2-userName"></span>
                    <button class="gpii-oauth2-privacySettings-logout-button" type="submit"><strong class="gpiic-oauth2-privacySettings-logout"></strong></button>
                </form>
            </div>

            <h1 class="gpiic-oauth2-privacySettings-header">Heading</h1>

            <div class="gpiic-oauth2-privacySettings-description">Description</div>
            <p><strong class="gpiic-oauth2-privacySettings-directions"></strong></p>
            <div class="gpii-oauth2-privacySettings-services">
                <ul>
                    {{#each authorizedServices}}
                        <li class="gpii-oauth2-privacySettings-service gpii-ouath2-inset-horizontal">
                            <strong>{{serviceName}}</strong>
                            <button class="gpiic-oauth2-privacySettings-edit gpii-oauth2-privacySettings-edit" name="edit">
                                <span class="gpii-icon gpii-icon-edit" aria-hidden="true"></span>
                            </button>
                            <button class="gpiic-oauth2-privacySettings-removeService gpii-oauth2-privacySettings-removeService" name="remove">
                                <span class="gpii-icon gpii-icon-x-small" aria-hidden="true"></span>
                            </button>

                            <input type="hidden" class="gpiic-oauth2-privacySettings-serviceName" name="serviceName" value="{{serviceName}}" />
                            <input type="hidden" class="gpiic-oauth2-privacySettings-authDecisionId" name="authDecisionId" value="{{authDecisionId}}" />
                            <input type="hidden" class="gpiic-oauth2-privacySettings-oauth2ClientId" name="oauth2ClientId" value="{{oauth2ClientId}}" />
                        </li>
                    {{/each}}
                </ul>

                <div class="gpiic-oauth2-privacySettings-addService">
                    <button class="gpiic-oauth2-privacySettings-addServiceButton gpii-oauth2-privacySettings-addServiceButton">
                        <span class="gpii-icon gpii-icon-plus-small" aria-hidden="true"></span>
                        <strong>Add service</strong>
                    </button>
                    <ul class="gpiic-oauth2-privacySettings-addServiceMenu gpii-oauth2-privacySettings-addServiceMenu">
                        {{#each unauthorizedServices}}
                            <li>
                                <a href="#" class="gpiic-oauth2-servicesMenu-serviceName">{{serviceName}}</a>
                                <input type="hidden" name="oauth2ClientId" value="{{oauth2ClientId}}" />
                            </li>
                        {{/each}}
                    </ul>
                </div>
            </div>

            <div class="gpiic-oauth2-privacySettings-removeDecision-dialog gpii-oauth2-privacySettings-removeDecision-dialog">
                <p class="gpiic-oauth2-privacySettings-removeDecision-content">The remove message</p>
            </div>

            <div class="gpiic-oauth2-privacySettings-editDecision-dialog gpii-oauth2-privacySettings-editDecision-dialog">
                <h3 class="gpiic-oauth2-privacySettings-editDecision-title"></h3>
                <p class="gpiic-oauth2-privacySettings-editDecision-description"></p>

                <section class="gpiic-oauth2-privacySettings-editDecision-selection gpiic-oauth2-selectionTree gpii-oauth2-selectionTree gpii-oauth2-innerPanel gpii-oauth2-scrollPanel"></section>

                <div class="gpii-oauth2-privacySettings-editDecision-buttonPane">
                    <button class="gpiic-oauth2-privacySettings-editDecision-cancel gpii-oauth2-privacySettings-editDecision-cancel"></button>
                    <button class="gpiic-oauth2-privacySettings-editDecision-done gpii-oauth2-privacySettings-editDecision-done"></button>
                </div>
            </div>

            <div class="gpiic-oauth2-privacySettings-addAuthorizationDialog gpii-oauth2-privacySettings-editDecision-dialog">
                <h3 class="gpiic-oauth2-privacySettings-editDecision-title"></h3>
                <p class="gpiic-oauth2-privacySettings-editDecision-description"></p>

                <section class="gpiic-oauth2-privacySettings-editDecision-selection gpiic-oauth2-selectionTree gpii-oauth2-selectionTree gpii-oauth2-innerPanel gpii-oauth2-scrollPanel"></section>

                <div class="gpii-oauth2-privacySettings-editDecision-buttonPane">
                    <button class="gpiic-oauth2-privacySettings-editDecision-cancel gpii-oauth2-privacySettings-editDecision-cancel"></button>
                    <button class="gpiic-oauth2-privacySettings-editDecision-done gpii-oauth2-privacySettings-editDecision-done"></button>
                </div>
            </div>
        </div>
    </section>

    <script>
        gpii.oauth2.privacySettings(".gpiic-oauth2-privacySettings", {
            gradeNames: ["gpii.oauth2.selectionTreeTemplate"],
            model: {
                user: "{{username}}"
            },
            selectionTreeTemplate: "src/components/selectionTree/html/SelectionTreeTemplate.html"
        });
    </script>
{{/section}}
