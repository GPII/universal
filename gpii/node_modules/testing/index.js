"use strict";

var fluid = require("infusion"),
    kettle = fluid.registerNamespace("kettle");

kettle.loadTestingSupport();

// Some definitions to make sure that errors during request get logged to the console. This should really be
// a default
fluid.defaults("gpii.test.errorLoggingRequest", {
    listeners: {
        "onRequestError.log": "fluid.logUncaughtException",
        "onRequestError.logActivity": {
            funcName: "fluid.logActivity",
            args: [null],
            priority: "after:log"
        }
    }
});

fluid.makeGradeLinkage("gpii.test.requestErrorLinkage", ["kettle.request"], "gpii.test.errorLoggingRequest");

require("./src/Fixtures.js");
require("./src/Mocks.js");
require("./src/TestUtils.js");
require("./src/CloudBased.js");
require("./src/CloudBasedOAuth2TestsUtils.js");
require("./src/Acceptance.js");
require("./src/Integration.js");
require("./src/NockUtils.js");
require("./src/RunTestDefs");
