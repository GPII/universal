{
    "name": "Windows Display Language",
    "settingsHandlers": {
        "configure1": {
            "supportedSettings": {
                "MachinePreferredUILanguages": {
                    "schema": {
                        "title": "The Machine Preferred UI Language",
                        "description": "Machine Preferred UI language.",
                        "type": "string"
                    }
                }
            },
            "type": "gpii.windows.registrySettingsHandler",
            "liveness": "liveRestart",
            "options": {
                "hKey": "HKEY_CURRENT_USER",
                "path": "Control Panel\\Desktop\\MuiCached",
                "dataTypes": {
                    "MachinePreferredUILanguages": "REG_SZ"
                }
            }
        },
        "configure2": {
            "supportedSettings": {
                "PreferredUILanguages": {
                    "schema": {
                        "title": "Preferred UI Language",
                        "description": "Preffered UI language.",
                        "type": "string"
                    }
                }
            },
            "type": "gpii.windows.registrySettingsHandler",
            "liveness": "liveRestart",
            "options": {
                "hKey": "HKEY_CURRENT_USER",
                "path": "Control Panel\\Desktop",
                "dataTypes": {
                    "PreferredUILanguages": "REG_SZ"
                }
            }
        },
        "configure3": {
            "supportedSettings": {
                "Languages": {
                    "schema": {
                        "title": "Language",
                        "description": "Language.",
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    }
                }
            },
            "type": "gpii.windows.registrySettingsHandler",
            "liveness": "liveRestart",
            "options": {
                "hKey": "HKEY_CURRENT_USER",
                "path": "Control Panel\\International\\User Profile",
                "dataTypes": {
                    "Languages": "REG_MULTI_SZ"
                }
            }
        }
    },
    "contexts": {
        "OS": [
            {
                "windows": {
                    "id": "win32",
                    "version": ">=5.0"
                }
            }
        ]
    },
    "isInstalled": [
        {
            "type": "gpii.deviceReporter.alwaysInstalled"
        }
    ],
    "configure": [
        "settings.configure1",
        "settings.configure2",
        "settings.configure3",
        {
            "type": "gpii.windows.updateLanguage",
            "currentLanguage": "${{registry}.HKEY_CURRENT_USER\\Control Panel\\Desktop\\PreferredUILanguages}"
        }
    ],
    "restore": [
        "settings.configure1",
        "settings.configure2",
        "settings.configure3",
        {
            "type": "gpii.windows.updateLanguage",
            "currentLanguage": "${{registry}.HKEY_CURRENT_USER\\Control Panel\\Desktop\\PreferredUILanguages}"
        }
    ]
}
